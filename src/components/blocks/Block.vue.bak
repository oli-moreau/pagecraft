<template>
  <div :class="Object.values(imageClasses)">
<!--    <Toolbar-->
<!--        @edit-block="onEditBlock"-->
<!--        @remove-block="onRemoveBlock"-->
<!--        @option-selected="onOptionSelected"-->
<!--        v-if="showEditor"-->
<!--    />-->
    <div class="block-content-container" >
<!--      <div class="block-content" v-html="blockContent" v-if="!showEditor"></div>-->
      <ImageDropZone />
<!--      <div class="tinymce-wrapper" v-if="editBlockContent && showEditor">-->
<!--        <Tinymce-->
<!--            :block-id="blockId"-->
<!--            :block-content="blockContent"-->
<!--            @updateBlockContent="updateBlockContent"-->
<!--        />-->
<!--      </div>-->
    </div>
  </div>
</template>


<script>
import Tinymce from "@/components/Tinymce.vue";
import Toolbar from "@/components/blocks/Toolbar.vue";
import ImageDropZone from "@/components/blocks/ImageDropZone.vue";
export default {
  components: {Tinymce, Toolbar, ImageDropZone},
  props: {
    showEditor: {
      type: Boolean,
      required: true,
    },
    size: {
      type: String,
      required: true
    },
    blockId: {
      type: Number,
      required: true
    }
  },
  data() {
    return {
      imageClasses: {
        size: "",
        border: "corner-round",
        shadow: "drop-shadow"
      },
      blockContent: '',
      editBlockContent: false,
      insertImage: false,
    }
  },
  mounted() {
    console.log(this.blockId)
    this.imageClasses.size = this.size
  },
  methods: {
    onRemoveBlock() {
      this.$emit('removeBlock');
    },
    onEditBlock() {
      this.$emit('editBlock');
    },
    onOptionSelected(selectedOption) {
      if (selectedOption == 'insert-image') {
          this.insertImage = true
      } else if (selectedOption == 'edit-content') {
        this.editBlockContent = true
      } else {
        this.imageClasses.size = selectedOption
      }
    },
    updateBlockContent(newBlockContent) {
      this.blockContent = newBlockContent
    }
  },
  computed: {},
}
</script>